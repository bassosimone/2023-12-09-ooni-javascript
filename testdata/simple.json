{
    "stages": [
        {
            "name": "dns_lookup_udp",
            "value": {
                "domain": "www.youtube.com",
                "output": "$dns1",
                "resolver": "1.1.1.1:53",
                "tags": [
                    "dns_lookup_udp"
                ]
            }
        },
        {
            "name": "getaddrinfo",
            "value": {
                "domain": "www.youtube.com",
                "output": "$dns2",
                "tags": [
                    "dns_lookup_getaddrinfo"
                ]
            }
        },
        {
            "name": "dedup_addrs",
            "value": {
                "inputs": [
                    "$dns1",
                    "$dns2"
                ],
                "output": "$dns3"
            }
        },
        {
            "name": "tee_addrs",
            "value": {
                "input": "$dns3",
                "outputs": [
                    "$dns4",
                    "$dns5",
                    "$dns6"
                ]
            }
        },
        {
            "name": "make_endpoints",
            "value": {
                "input": "$dns4",
                "output": "$epnt1",
                "port": "443"
            }
        },
        {
            "name": "tcp_connect",
            "value": {
                "input": "$epnt1",
                "output": "$tcp1",
                "tags": [
                    "tcp_443"
                ]
            }
        },
        {
            "name": "tls_handshake",
            "value": {
                "input": "$tcp1",
                "next_protos": [
                    "h2",
                    "http/1.1"
                ],
                "output": "$tls1",
                "server_name": "www.youtube.com"
            }
        },
        {
            "name": "http_round_trip",
            "value": {
                "host": "www.youtube.com",
                "input": "$tls1",
                "method": "GET",
                "output": "$done1",
                "url_path": "/"
            }
        },
        {
            "name": "make_endpoints",
            "value": {
                "input": "$dns5",
                "output": "$epnt2",
                "port": "80"
            }
        },
        {
            "name": "tcp_connect",
            "value": {
                "input": "$epnt2",
                "output": "$tcp2",
                "tags": [
                    "tcp_80"
                ]
            }
        },
        {
            "name": "http_round_trip",
            "value": {
                "host": "www.youtube.com",
                "input": "$tcp2",
                "method": "GET",
                "output": "done2",
                "url_path": "/"
            }
        },
        {
            "name": "make_endpoints",
            "value": {
                "input": "$dns6",
                "output": "$epnt3",
                "port": "443"
            }
        },
        {
            "name": "quic_handshake",
            "value": {
                "input": "$epnt3",
                "next_protos": [
                    "h3"
                ],
                "output": "$quic1",
                "server_name": "www.youtube.com",
                "tags": [
                    "quic_443"
                ]
            }
        },
        {
            "name": "http_round_trip",
            "value": {
                "host": "www.youtube.com",
                "input": "$quic1",
                "method": "GET",
                "output": "done3",
                "url_path": "/"
            }
        }
    ]
}